import{r as i,j as s,F as t,B as u}from"./react-vendor-YaBxlGmv.js";import"./vendor-DkYvuI6X.js";const x=({handleClose:o,onAuthSuccess:n})=>{const[e,d]=i.useState({email:"",password:""}),[l,m]=i.useState({}),c=i.useCallback(()=>{let a={};return e.email.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)||(a.email="Invalid email format"),e.password||(a.password="Password is required"),m(a),Object.keys(a).length===0},[e]),p=i.useCallback(a=>{if(a.preventDefault(),c()){const r=JSON.parse(localStorage.getItem("user"));r&&r.email===e.email&&r.password===e.password?(localStorage.setItem("auth","true"),n(r),o()):m({password:"Invalid credentials"})}},[c,e,o,n]);return s.jsxs(t,{onSubmit:p,children:[s.jsxs(t.Group,{className:"mb-3",children:[s.jsx(t.Label,{children:"Email"}),s.jsx(t.Control,{type:"email",value:e.email,onChange:a=>d(r=>({...r,email:a.target.value})),className:l.email?"is-invalid":""}),s.jsx("div",{className:"invalid-feedback",children:l.email})]}),s.jsxs(t.Group,{className:"mb-3",children:[s.jsx(t.Label,{children:"Password"}),s.jsx(t.Control,{type:"password",value:e.password,onChange:a=>d(r=>({...r,password:a.target.value})),className:l.password?"is-invalid":""}),s.jsx("div",{className:"invalid-feedback",children:l.password})]}),s.jsx(u,{type:"submit",variant:"primary",className:"w-100",children:"Sign In"})]})};export{x as default};
